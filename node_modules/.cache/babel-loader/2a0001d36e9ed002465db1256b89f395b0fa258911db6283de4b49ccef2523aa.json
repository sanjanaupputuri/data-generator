{"ast":null,"code":"class DataStorage {\n  constructor() {\n    this.storageKey = 'ai_generated_datasets';\n  }\n  saveDataset(dataset) {\n    const datasets = this.getAllDatasets();\n    const newDataset = {\n      id: `dataset_${Date.now()}`,\n      name: dataset.name || `Dataset ${new Date().toLocaleDateString()}`,\n      description: dataset.description || '',\n      dataType: dataset.dataType || 'custom',\n      data: dataset.data,\n      createdAt: new Date().toISOString(),\n      count: dataset.data.length,\n      fields: this.extractFields(dataset.data)\n    };\n    datasets.push(newDataset);\n    localStorage.setItem(this.storageKey, JSON.stringify(datasets));\n    return newDataset;\n  }\n  getAllDatasets() {\n    const stored = localStorage.getItem(this.storageKey);\n    return stored ? JSON.parse(stored) : [];\n  }\n  getDataset(id) {\n    const datasets = this.getAllDatasets();\n    return datasets.find(dataset => dataset.id === id);\n  }\n  deleteDataset(id) {\n    const datasets = this.getAllDatasets();\n    const filtered = datasets.filter(dataset => dataset.id !== id);\n    localStorage.setItem(this.storageKey, JSON.stringify(filtered));\n    return filtered;\n  }\n  updateDataset(id, updates) {\n    const datasets = this.getAllDatasets();\n    const index = datasets.findIndex(dataset => dataset.id === id);\n    if (index !== -1) {\n      datasets[index] = {\n        ...datasets[index],\n        ...updates,\n        updatedAt: new Date().toISOString()\n      };\n      localStorage.setItem(this.storageKey, JSON.stringify(datasets));\n      return datasets[index];\n    }\n    return null;\n  }\n  exportDataset(id, format = 'json') {\n    const dataset = this.getDataset(id);\n    if (!dataset) return null;\n    const filename = `${dataset.name.replace(/\\s+/g, '_')}_${dataset.id}`;\n    switch (format) {\n      case 'json':\n        return this.exportAsJSON(dataset, filename);\n      case 'csv':\n        return this.exportAsCSV(dataset, filename);\n      default:\n        return this.exportAsJSON(dataset, filename);\n    }\n  }\n  exportAsJSON(dataset, filename) {\n    const dataStr = JSON.stringify(dataset.data, null, 2);\n    const dataBlob = new Blob([dataStr], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }\n  exportAsCSV(dataset, filename) {\n    if (!dataset.data.length) return;\n    const headers = Object.keys(dataset.data[0]);\n    const csvContent = [headers.join(','), ...dataset.data.map(row => headers.map(header => {\n      const value = row[header];\n      return typeof value === 'string' && value.includes(',') ? `\"${value}\"` : value;\n    }).join(','))].join('\\n');\n    const dataBlob = new Blob([csvContent], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename}.csv`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }\n  extractFields(data) {\n    if (!data.length) return [];\n    return Object.keys(data[0]);\n  }\n  searchDatasets(query) {\n    const datasets = this.getAllDatasets();\n    const lowerQuery = query.toLowerCase();\n    return datasets.filter(dataset => dataset.name.toLowerCase().includes(lowerQuery) || dataset.description.toLowerCase().includes(lowerQuery) || dataset.dataType.toLowerCase().includes(lowerQuery));\n  }\n  getStorageStats() {\n    const datasets = this.getAllDatasets();\n    const totalRecords = datasets.reduce((sum, dataset) => sum + dataset.count, 0);\n    return {\n      totalDatasets: datasets.length,\n      totalRecords,\n      storageSize: this.getStorageSize(),\n      lastCreated: datasets.length ? Math.max(...datasets.map(d => new Date(d.createdAt).getTime())) : null\n    };\n  }\n  getStorageSize() {\n    const data = localStorage.getItem(this.storageKey);\n    return data ? new Blob([data]).size : 0;\n  }\n  clearAllData() {\n    localStorage.removeItem(this.storageKey);\n  }\n}\nexport default new DataStorage();","map":{"version":3,"names":["DataStorage","constructor","storageKey","saveDataset","dataset","datasets","getAllDatasets","newDataset","id","Date","now","name","toLocaleDateString","description","dataType","data","createdAt","toISOString","count","length","fields","extractFields","push","localStorage","setItem","JSON","stringify","stored","getItem","parse","getDataset","find","deleteDataset","filtered","filter","updateDataset","updates","index","findIndex","updatedAt","exportDataset","format","filename","replace","exportAsJSON","exportAsCSV","dataStr","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","headers","Object","keys","csvContent","join","map","row","header","value","includes","searchDatasets","query","lowerQuery","toLowerCase","getStorageStats","totalRecords","reduce","sum","totalDatasets","storageSize","getStorageSize","lastCreated","Math","max","d","getTime","size","clearAllData","removeItem"],"sources":["/home/sanjana/data/src/utils/dataStorage.js"],"sourcesContent":["class DataStorage {\n  constructor() {\n    this.storageKey = 'ai_generated_datasets';\n  }\n\n  saveDataset(dataset) {\n    const datasets = this.getAllDatasets();\n    const newDataset = {\n      id: `dataset_${Date.now()}`,\n      name: dataset.name || `Dataset ${new Date().toLocaleDateString()}`,\n      description: dataset.description || '',\n      dataType: dataset.dataType || 'custom',\n      data: dataset.data,\n      createdAt: new Date().toISOString(),\n      count: dataset.data.length,\n      fields: this.extractFields(dataset.data)\n    };\n\n    datasets.push(newDataset);\n    localStorage.setItem(this.storageKey, JSON.stringify(datasets));\n    return newDataset;\n  }\n\n  getAllDatasets() {\n    const stored = localStorage.getItem(this.storageKey);\n    return stored ? JSON.parse(stored) : [];\n  }\n\n  getDataset(id) {\n    const datasets = this.getAllDatasets();\n    return datasets.find(dataset => dataset.id === id);\n  }\n\n  deleteDataset(id) {\n    const datasets = this.getAllDatasets();\n    const filtered = datasets.filter(dataset => dataset.id !== id);\n    localStorage.setItem(this.storageKey, JSON.stringify(filtered));\n    return filtered;\n  }\n\n  updateDataset(id, updates) {\n    const datasets = this.getAllDatasets();\n    const index = datasets.findIndex(dataset => dataset.id === id);\n    \n    if (index !== -1) {\n      datasets[index] = { ...datasets[index], ...updates, updatedAt: new Date().toISOString() };\n      localStorage.setItem(this.storageKey, JSON.stringify(datasets));\n      return datasets[index];\n    }\n    return null;\n  }\n\n  exportDataset(id, format = 'json') {\n    const dataset = this.getDataset(id);\n    if (!dataset) return null;\n\n    const filename = `${dataset.name.replace(/\\s+/g, '_')}_${dataset.id}`;\n    \n    switch (format) {\n      case 'json':\n        return this.exportAsJSON(dataset, filename);\n      case 'csv':\n        return this.exportAsCSV(dataset, filename);\n      default:\n        return this.exportAsJSON(dataset, filename);\n    }\n  }\n\n  exportAsJSON(dataset, filename) {\n    const dataStr = JSON.stringify(dataset.data, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    \n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename}.json`;\n    link.click();\n    \n    URL.revokeObjectURL(url);\n  }\n\n  exportAsCSV(dataset, filename) {\n    if (!dataset.data.length) return;\n    \n    const headers = Object.keys(dataset.data[0]);\n    const csvContent = [\n      headers.join(','),\n      ...dataset.data.map(row => \n        headers.map(header => {\n          const value = row[header];\n          return typeof value === 'string' && value.includes(',') \n            ? `\"${value}\"` \n            : value;\n        }).join(',')\n      )\n    ].join('\\n');\n\n    const dataBlob = new Blob([csvContent], { type: 'text/csv' });\n    const url = URL.createObjectURL(dataBlob);\n    \n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename}.csv`;\n    link.click();\n    \n    URL.revokeObjectURL(url);\n  }\n\n  extractFields(data) {\n    if (!data.length) return [];\n    return Object.keys(data[0]);\n  }\n\n  searchDatasets(query) {\n    const datasets = this.getAllDatasets();\n    const lowerQuery = query.toLowerCase();\n    \n    return datasets.filter(dataset => \n      dataset.name.toLowerCase().includes(lowerQuery) ||\n      dataset.description.toLowerCase().includes(lowerQuery) ||\n      dataset.dataType.toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  getStorageStats() {\n    const datasets = this.getAllDatasets();\n    const totalRecords = datasets.reduce((sum, dataset) => sum + dataset.count, 0);\n    \n    return {\n      totalDatasets: datasets.length,\n      totalRecords,\n      storageSize: this.getStorageSize(),\n      lastCreated: datasets.length ? Math.max(...datasets.map(d => new Date(d.createdAt).getTime())) : null\n    };\n  }\n\n  getStorageSize() {\n    const data = localStorage.getItem(this.storageKey);\n    return data ? new Blob([data]).size : 0;\n  }\n\n  clearAllData() {\n    localStorage.removeItem(this.storageKey);\n  }\n}\n\nexport default new DataStorage();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}